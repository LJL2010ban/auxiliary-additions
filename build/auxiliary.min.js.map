{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///auxiliary.min.js","webpack:///webpack/bootstrap 815c43847eb8e4fcddf7","webpack:///./src/index.js","webpack:///./src/util/url.js","webpack:///./src/util/sheet.js","webpack:///./src/util/isNativeFunction.js","webpack:///./src/store/cookie.js","webpack:///./src/upload/AjaxForm.js","webpack:///./src/util/uniqueId.js","webpack:///./src/upload/UploadFile.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","url","sheet","isNativeFunction","cookie","AjaxForm","UploadFile","urlString","window","location","parse","temp","document","createElement","href","target","result","port","protocol","replace","hash","host","hostname","pathname","search","query","seg","split","leng","length","i","format","obj","push","lastIndexOf","key","val","indexOf","join","resolve","from","to","test","substr","extname","_p","parseSearch","value","_query","JSON","style","appendChild","createTextNode","head","type","reNative","funToString","reConstructor","toString","Object","prototype","Function","RegExp","String","extend","arguments","attributes","init","converter","api","path","defaults","expires","Date","setMilliseconds","getMilliseconds","stringify","e","write","encodeURIComponent","decodeURIComponent","escape","toUTCString","domain","secure","cookies","rdecode","parts","name","slice","charAt","read","json","get","set","getJSON","apply","remove","withConverter","uniqueId","options","$el","el","$","uid","loadState","_init","defer","Deferred","promise","_createIframe","_addEvent","iframeHTML","attr","append","_iframe","appendTo","self","on","cw","contentWindow","loc","reject","body","innerText","innerHTML","parseJSON","encrypto","secret","each","$item","find","shared","sharedInstanceAjaxForm","element","classInstanceAjaxForm","prefix","idCounter","_data","data","_filename","filename","_url","console","warn","ajaxForm","done","fail","_createElement","inputs","className","parseErrorMsg","res","state","code","errCode","submit","_before","sharedInstanceUploadFile","classInstanceUploadFile"],"mappings":"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","file":"auxiliary.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Auxiliary\"] = factory();\n\telse\n\t\troot[\"Auxiliary\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Auxiliary\"] = factory();\n\telse\n\t\troot[\"Auxiliary\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar url = __webpack_require__(1);\n\tvar sheet = __webpack_require__(2);\n\tvar isNativeFunction = __webpack_require__(3);\n\tvar cookie = __webpack_require__(4);\n\tvar AjaxForm = __webpack_require__(5);\n\tvar UploadFile = __webpack_require__(7);\n\t\n\tmodule.exports = {\n\t    'url':url,\n\t    'sheet':sheet,\n\t    'isNativeFunction':isNativeFunction,\n\t    'cookie':cookie,\n\t    'AjaxForm':AjaxForm,\n\t    'UploadFile':UploadFile\n\t}\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t/**\n\t * @time 2012年10月26日\n\t * @author icepy\n\t * @info 完成处理URL字符串\n\t *\n\t */\n\t\n\t'use strict';\n\tvar urlString = [];\n\tvar location = window.location;\n\t\n\tmodule.exports = {\n\t\t/**\n\t\t * [parse 处理一个字符串URL]\n\t\t * @param  {[String]} url [传入一个字符串url]\n\t\t * @return {[Object]}     [返回一个object对象]\n\t\t */\n\t\tparse: function(url) {\n\t\t\tvar temp = document.createElement('a');\n\t\t\ttemp.href = url;\n\t\t\tvar result = {\n\t\t\t\t\"port\": temp.port,\n\t\t\t\t\"protocol\": temp.protocol.replace(':', ''),\n\t\t\t\t\"hash\": temp.hash.replace('#', ''),\n\t\t\t\t\"host\": temp.host,\n\t\t\t\t\"href\": temp.href,\n\t\t\t\t\"hostname\": temp.hostname,\n\t\t\t\t\"pathname\": temp.pathname,\n\t\t\t\t\"search\": temp.search,\n\t\t\t\t\"query\": {}\n\t\t\t};\n\t\t\tvar seg = result.search.replace(/^\\?/, '').split('&'),\n\t\t\t\tleng = seg.length,\n\t\t\t\ti = 0,\n\t\t\t\ttarget;\n\t\t\tfor (; i < leng; i++) {\n\t\t\t\tif (!seg[i]) continue;\n\t\t\t\ttarget = seg[i].split('=');\n\t\t\t\tresult.query[target[0]] = target[1];\n\t\t\t}\n\t\t\ttemp = null;\n\t\t\treturn result;\n\t\t},\n\t\t/**\n\t\t * [format 拼接一个完整的url字符串]\n\t\t * @param  {[String]} url [URL]\n\t\t * @param  {[Object]} obj [需要拼接的query或者hash参数]\n\t\t * @return {[String]}     [返回一个完整的URL字符串]\n\t\t */\n\t\tformat: function(url, obj) {\n\t\t\tvar i = 0,\n\t\t\t\tquery = obj.query,\n\t\t\t\thash = obj.hash;\n\t\t\turlString.length = 0;\n\t\t\turlString.push(url.lastIndexOf('?') > -1 ? url : url + '?');\n\t\t\tif (query) {\n\t\t\t\tfor (var key in query) {\n\t\t\t\t\tvar val = query[key]\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\turlString.push(key + '=' + val)\n\t\t\t\t\t} else {\n\t\t\t\t\t\turlString.push('&' + key + '=' + val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (hash) {\n\t\t\t\turlString.push(hash.indexOf('#') > -1 ? hash : '#' + hash);\n\t\t\t};\n\t\t\treturn urlString.join('');\n\t\t},\n\t\t/**\n\t\t * [resolve 将参数 to 位置的字符解析到一个绝对路径里]\n\t\t * @param  {[String]} from [源路径]\n\t\t * @param  {[String]} to   [将被解析到绝对路径的字符串]\n\t\t * @return {[String]}      [返回一个绝对路径字符串]\n\t\t */\n\t\tresolve: function(from, to) {\n\t\t\t/**\n\t\t\t *  路径描述 ./当前路径 ../父路径\n\t\t\t */\n\t\t\tif (/^(.\\/)/.test(to)) {\n\t\t\t\tto = to.replace(/^(.\\/)/, '/');\n\t\t\t};\n\t\n\t\t\tif (/^(..\\/)/.test(to)) {\n\t\t\t\tfrom = from.substr(0, from.lastIndexOf('/'));\n\t\t\t\tto = to.replace(/^(..\\/)/, '/');\n\t\t\t};\n\t\t\treturn from + to;\n\t\t},\n\t\t/**\n\t\t * [extname 返回指定文件名的扩展名称]\n\t\t * @param  {[String]} p [description]\n\t\t * @return {[String]}   [description]\n\t\t */\n\t\textname: function(p) {\n\t\t\tvar _p = p.split('.');\n\t\t\treturn _p[_p.length - 1] || '';\n\t\t},\n\t\t/**\n\t\t * [parseSearch 将search参数转换为obj]\n\t\t * @param  {[type]} query [description]\n\t\t * @return {[type]}       [description]\n\t\t */\n\t\tparseSearch:function(query){\n\t\t\tvar _query = {};\n\t\t\tvar seg = query.replace(/^\\?/, '').split('&'),\n\t\t\t\tleng = seg.length,\n\t\t\t\ti = 0,\n\t\t\t\tvalue,\n\t\t\t\ttarget;\n\t\t\tfor (; i < leng; i++) {\n\t\t\t\tif (!seg[i]) continue;\n\t\t\t\ttarget = seg[i].split('=');\n\t\t\t\tvalue = target[1];\n\t\t\t\tif ((/^\\[/.test(value) && /\\]$/.test(value)) || (/^{/.test(value) || /\\}$/.test(value))) {\n\t\t\t\t\tvalue = JSON.parse(value);\n\t\t\t\t};\n\t\t\t\t_query[target[0]] = value;\n\t\t\t}\n\t\t\treturn _query;\n\t\t}\n\t}\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t/**\n\t * @time 2012年9月26日\n\t * @author icepy\n\t * @info 新建一个style.sheet对象，来标注新的css规则等\n\t */\n\t\n\t'use strict';\n\t\n\tmodule.exports = sheet();\n\t\n\tfunction sheet() {\n\t  // 使用style.sheet.insertRule()\n\t  var style = document.createElement('style');\n\t  style.appendChild(document.createTextNode(''));\n\t  document.head.appendChild(style);\n\t  return style.sheet;\n\t};\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t/**\n\t * @time 2012年9月27日\n\t * @author icepy\n\t * @info 判断是否是原生函数\n\t */\n\t\n\t'use strict';\n\t\n\tmodule.exports = isNativeFunction;\n\t\n\tvar toString = Object.prototype.toString;\n\tvar funToString = Function.prototype.toString;\n\tvar reConstructor= /^\\[object .+?Constructor\\]$/;\n\tvar reNative = RegExp('^' +\n\t  String(toString)\n\t  .replace(/[.*+?^${}()|[\\]\\/\\\\]/g, '\\\\$&')\n\t  .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n\t);\n\t/**\n\t * [判断一个值或者对象是否为原生函数或对象]\n\t * @param  {[type]} value [description]\n\t * @return {[type]}       [description]\n\t */\n\tfunction isNativeFunction(value) {\n\t  var type = typeof value;\n\t  return type === 'function' ? reNative.test(funToString.call(value)) : (value && type === 'object' && reConstructor.test(toString.call(value))) || false;\n\t}\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t/*\n\t    引用`https://github.com/js-cookie/js-cookie` 2.1.0\n\t */\n\t\n\t'use strict';\n\t\n\tmodule.exports = init(function () {});\n\t\n\tfunction extend () {\n\t  var i = 0;\n\t  var result = {};\n\t  for (; i < arguments.length; i++) {\n\t    var attributes = arguments[ i ];\n\t    for (var key in attributes) {\n\t      result[key] = attributes[key];\n\t    }\n\t  }\n\t  return result;\n\t}\n\t\n\tfunction init (converter) {\n\t  function api (key, value, attributes) {\n\t    var result;\n\t\n\t    // Write\n\t\n\t    if (arguments.length > 1) {\n\t      attributes = extend({\n\t        path: '/'\n\t      }, api.defaults, attributes);\n\t\n\t      if (typeof attributes.expires === 'number') {\n\t        var expires = new Date();\n\t        expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t        attributes.expires = expires;\n\t      }\n\t\n\t      try {\n\t        result = JSON.stringify(value);\n\t        if (/^[\\{\\[]/.test(result)) {\n\t          value = result;\n\t        }\n\t      } catch (e) {}\n\t\n\t      if (!converter.write) {\n\t        value = encodeURIComponent(String(value))\n\t          .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t      } else {\n\t        value = converter.write(value, key);\n\t      }\n\t\n\t      key = encodeURIComponent(String(key));\n\t      key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t      key = key.replace(/[\\(\\)]/g, escape);\n\t\n\t      return (document.cookie = [\n\t        key, '=', value,\n\t        attributes.expires && '; expires=' + attributes.expires.toUTCString(), // use expires attribute, max-age is not supported by IE\n\t        attributes.path    && '; path=' + attributes.path,\n\t        attributes.domain  && '; domain=' + attributes.domain,\n\t        attributes.secure ? '; secure' : ''\n\t      ].join(''));\n\t    }\n\t\n\t    // Read\n\t\n\t    if (!key) {\n\t      result = {};\n\t    }\n\t\n\t    // To prevent the for loop in the first place assign an empty array\n\t    // in case there are no cookies at all. Also prevents odd result when\n\t    // calling \"get()\"\n\t    var cookies = document.cookie ? document.cookie.split('; ') : [];\n\t    var rdecode = /(%[0-9A-Z]{2})+/g;\n\t    var i = 0;\n\t\n\t    for (; i < cookies.length; i++) {\n\t      var parts = cookies[i].split('=');\n\t      var name = parts[0].replace(rdecode, decodeURIComponent);\n\t      var cookie = parts.slice(1).join('=');\n\t\n\t      if (cookie.charAt(0) === '\"') {\n\t        cookie = cookie.slice(1, -1);\n\t      }\n\t\n\t      try {\n\t        cookie = converter.read ?\n\t          converter.read(cookie, name) : converter(cookie, name) ||\n\t          cookie.replace(rdecode, decodeURIComponent);\n\t\n\t        if (this.json) {\n\t          try {\n\t            cookie = JSON.parse(cookie);\n\t          } catch (e) {}\n\t        }\n\t\n\t        if (key === name) {\n\t          result = cookie;\n\t          break;\n\t        }\n\t\n\t        if (!key) {\n\t          result[name] = cookie;\n\t        }\n\t      } catch (e) {}\n\t    }\n\t\n\t    return result;\n\t  }\n\t\n\t  api.get = api.set = api;\n\t  api.getJSON = function () {\n\t    return api.apply({\n\t      json: true\n\t    }, [].slice.call(arguments));\n\t  };\n\t  api.defaults = {};\n\t\n\t  api.remove = function (key, attributes) {\n\t    api(key, '', extend(attributes, {\n\t      expires: -1\n\t    }));\n\t  };\n\t\n\t  api.withConverter = init;\n\t\n\t  return api;\n\t};\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * @time 2016年3月3日\r\n\t * @author  icepy\r\n\t * @info  跨域模拟Ajax的Form表单\r\n\t */\r\n\t\r\n\t'use strict';\r\n\t\r\n\tvar url = __webpack_require__(1);\r\n\tvar uniqueId = __webpack_require__(6);\r\n\t\r\n\tvar AjaxForm = function(options){\r\n\t\toptions = options || {};\r\n\t\tthis.$el = typeof options.el === 'string' ? $(options.el) : options.el;\r\n\t\tthis.uid = uniqueId('AjaxForm-');\r\n\t\tthis.loadState = false;\r\n\t\tthis._init();\r\n\t};\r\n\t\r\n\tAjaxForm.prototype._init = function(){\r\n\t\tvar defer = $.Deferred();\r\n\t\t$.extend(this,defer.promise());\r\n\t\tthis._createIframe();\r\n\t\tthis._addEvent(defer);\r\n\t};\r\n\t\r\n\tAjaxForm.prototype._createIframe = function(){\r\n\t\tvar iframeHTML = '<iframe id=\"'+this.uid+'\" name=\"'+this.uid+'\"  style=\"display: none;\" src=\"about:blank\"></iframe>';\r\n\t\tthis.$el.attr('target',this.uid);\r\n\t\tthis.$el.append(iframeHTML);\r\n\t\tthis._iframe = $('#'+this.uid);\r\n\t\t$('<input />').attr({\r\n\t\t\ttype : 'hidden',\r\n\t\t\tname : 'cross_post',\r\n\t\t\tvalue : '1'\r\n\t\t}).appendTo(this.$el);\r\n\t};\r\n\t\r\n\tAjaxForm.prototype._addEvent = function(promise){\r\n\t\tvar self = this;\r\n\t\tthis._iframe.on('load',function(){\r\n\t\t\tif (self.loadState) {\r\n\t\t\t\tvar cw = this.contentWindow;\r\n\t\t\t\tvar loc = cw.location;\r\n\t\t\t\tif (loc.href === 'about:blank') {\r\n\t\t\t\t\tpromise.reject(cw);\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttry {//如果后台没有作跨域处理，则需手动触发onComplete\r\n\t\t\t\t\t\tvar body = this._iframe[0].contentWindow.document.body;\r\n\t\t\t\t\t\tinnerText = body.innerText;\r\n\t\t\t\t\t\tif (!innerText) {\r\n\t\t\t\t\t\t\tinnerText = body.innerHTML;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tif (innerText) {\r\n\t\t\t\t\t\t\tpromise.resolve($.parseJSON(innerText));\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tpromise.resolve(cw);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tself.loadState = false;\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\t\r\n\tAjaxForm.prototype.encrypto = function(secret){\r\n\t\tvar self = this;\r\n\t\t$.each(secret, function(key, value) {\r\n\t\t\tvar $item = self.$el.find('[name=' + key + ']');\r\n\t\t\tif ($item.length === 0) {\r\n\t\t\t\t$('<input />').attr({\r\n\t\t\t\t\ttype : 'hidden',\r\n\t\t\t\t\tname : key,\r\n\t\t\t\t\tvalue : value\r\n\t\t\t\t}).appendTo(self.$el);\r\n\t\t\t} else {\r\n\t\t\t\t$item.val(value);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t\r\n\tvar shared = null;\r\n\tAjaxForm.sharedInstanceAjaxForm = function(element,options){\r\n\t\tif (!shared) {\r\n\t\t\toptions = options || {};\r\n\t\t\toptions.el = element;\r\n\t\t\tshared = new AjaxForm(options);\r\n\t\t}\r\n\t\treturn shared;\r\n\t};\r\n\tAjaxForm.classInstanceAjaxForm = function(element,options){\r\n\t\toptions = options || {};\r\n\t\toptions.el = element;\r\n\t\treturn new AjaxForm(options);\r\n\t};\r\n\t\r\n\tmodule.exports = AjaxForm;\r\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\n\tmodule.exports = uniqueId;\n\t\n\tvar idCounter = 0;\n\tfunction uniqueId(prefix) {\n\t  var id = ++idCounter + '';\n\t  return prefix ? prefix + id : id;\n\t};\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * @time 2016年3月3日\r\n\t * @author  icepy\r\n\t * @info  跨域上传图片，只支持iframe的方式\r\n\t */\r\n\t\r\n\t'use strict';\r\n\t\r\n\tvar url = __webpack_require__(1);\r\n\tvar AjaxForm = __webpack_require__(5);\r\n\tvar uniqueId = __webpack_require__(6);\r\n\t\r\n\tvar UploadFile = function(options){\r\n\t\tvar self = this;\r\n\t\tthis.$el = typeof options.el === 'string' ? $(options.el) : options.el;\r\n\t\tthis.uid = uniqueId('UploadFile-');\r\n\t\tthis.options = options;\r\n\t\tthis._data = options.data || {};\r\n\t\tthis._filename = options.filename || 'image';\r\n\t\tthis._url = options.url;\r\n\t\tif (!this._url) {\r\n\t\t\tconsole.warn('配置上传URL');\r\n\t\t\treturn;\r\n\t\t};\r\n\t\tthis._init();\r\n\t\tvar defer = $.Deferred();\r\n\t\t$.extend(this,defer.promise());\r\n\t\tthis.ajaxForm = AjaxForm.classInstanceAjaxForm(this.$el,{\r\n\t\t\ttype:'img'\r\n\t\t});\r\n\t\tthis.ajaxForm.done(function(cw){\r\n\t\t\tvar loc = cw.location;\r\n\t\t\tvar search = decodeURIComponent(loc.search);\r\n\t\t\tvar query = url.parseSearch(search);\r\n\t\t\tdefer.resolve(query);\r\n\t\t});\r\n\t\tthis.ajaxForm.fail(function(){\r\n\t\t\tdefer.reject(this);\r\n\t\t});\r\n\t};\r\n\t\r\n\tUploadFile.prototype._init = function(){\r\n\t\tthis._createElement();\r\n\t};\r\n\t\r\n\tUploadFile.prototype._createElement = function(){\r\n\t\tvar inputs = '';\r\n\t\tfor(var name in this._data){\r\n\t\t\tvar value = this._data[name];\r\n\t\t\tvar type = Object.prototype.toString.call(value);\r\n\t\t\tif (type === '[object Object]' || type === '[object Array]') {\r\n\t\t\t\tvalue = JSON.stringify(value);\r\n\t\t\t};\r\n\t\t\tinputs += '<input type=\"hidden\" name=\"'+name+'\" value=\\''+value+'\\'/>';\r\n\t\t};\r\n\t\tinputs += '<input type=\"file\" class=\"opacity0 upload-file '+this.options.className+'\" name=\"'+this._filename+'\"  />';\r\n\t\tthis.$el.attr('method','POST');\r\n\t\tthis.$el.attr('action',this._url);\r\n\t\tthis.$el.attr('enctype','multipart/form-data');\r\n\t\tthis.$el.append(inputs);\r\n\t};\r\n\t\r\n\t//错误码消息映射\r\n\tUploadFile.prototype.parseErrorMsg = function(res){\r\n\t\tif(res && res.state == 'SUCCESS'){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tvar code = res.errCode *1 || 0;\r\n\t\tswitch(code){\r\n\t\t\tcase 29:\r\n\t\t\t\treturn '上传的文件太大了,请重新上传';\r\n\t\t\tcase 31:\r\n\t\t\t\treturn '请上传JPGE,JPG,PNG,GIF等格式的图片文件';\r\n\t\t}\r\n\t\treturn '文件上传失败,请重新上传';\r\n\t};\r\n\t\r\n\t/**\r\n\t * [submit 提交文件]\r\n\t * @return {[type]} [description]\r\n\t */\r\n\tUploadFile.prototype.submit = function(){\r\n\t\tthis.ajaxForm.loadState = true;\r\n\t\tif (typeof this._before === 'function' ) {\r\n\t\t\tthis._before();\r\n\t\t};\r\n\t\tthis.$el.submit();\r\n\t};\r\n\t\r\n\tvar shared = null;\r\n\tUploadFile.sharedInstanceUploadFile = function(options){\r\n\t\tif (!shared) {\r\n\t\t\tshared = new UploadFile(options);\r\n\t\t}\r\n\t\treturn shared;\r\n\t};\r\n\tUploadFile.classInstanceUploadFile = function(options){\r\n\t\treturn new UploadFile(options);\r\n\t};\r\n\t\r\n\tmodule.exports = UploadFile;\r\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** auxiliary.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 815c43847eb8e4fcddf7\n **/","var url = require('./util/url');\nvar sheet = require('./util/sheet');\nvar isNativeFunction = require('./util/isNativeFunction');\nvar cookie = require('./store/cookie');\nvar AjaxForm = require('./upload/AjaxForm');\nvar UploadFile = require('./upload/UploadFile');\n\nmodule.exports = {\n    'url':url,\n    'sheet':sheet,\n    'isNativeFunction':isNativeFunction,\n    'cookie':cookie,\n    'AjaxForm':AjaxForm,\n    'UploadFile':UploadFile\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","/**\n * @time 2012年10月26日\n * @author icepy\n * @info 完成处理URL字符串\n *\n */\n\n'use strict';\nvar urlString = [];\nvar location = window.location;\n\nmodule.exports = {\n\t/**\n\t * [parse 处理一个字符串URL]\n\t * @param  {[String]} url [传入一个字符串url]\n\t * @return {[Object]}     [返回一个object对象]\n\t */\n\tparse: function(url) {\n\t\tvar temp = document.createElement('a');\n\t\ttemp.href = url;\n\t\tvar result = {\n\t\t\t\"port\": temp.port,\n\t\t\t\"protocol\": temp.protocol.replace(':', ''),\n\t\t\t\"hash\": temp.hash.replace('#', ''),\n\t\t\t\"host\": temp.host,\n\t\t\t\"href\": temp.href,\n\t\t\t\"hostname\": temp.hostname,\n\t\t\t\"pathname\": temp.pathname,\n\t\t\t\"search\": temp.search,\n\t\t\t\"query\": {}\n\t\t};\n\t\tvar seg = result.search.replace(/^\\?/, '').split('&'),\n\t\t\tleng = seg.length,\n\t\t\ti = 0,\n\t\t\ttarget;\n\t\tfor (; i < leng; i++) {\n\t\t\tif (!seg[i]) continue;\n\t\t\ttarget = seg[i].split('=');\n\t\t\tresult.query[target[0]] = target[1];\n\t\t}\n\t\ttemp = null;\n\t\treturn result;\n\t},\n\t/**\n\t * [format 拼接一个完整的url字符串]\n\t * @param  {[String]} url [URL]\n\t * @param  {[Object]} obj [需要拼接的query或者hash参数]\n\t * @return {[String]}     [返回一个完整的URL字符串]\n\t */\n\tformat: function(url, obj) {\n\t\tvar i = 0,\n\t\t\tquery = obj.query,\n\t\t\thash = obj.hash;\n\t\turlString.length = 0;\n\t\turlString.push(url.lastIndexOf('?') > -1 ? url : url + '?');\n\t\tif (query) {\n\t\t\tfor (var key in query) {\n\t\t\t\tvar val = query[key]\n\t\t\t\tif (!i) {\n\t\t\t\t\ti++;\n\t\t\t\t\turlString.push(key + '=' + val)\n\t\t\t\t} else {\n\t\t\t\t\turlString.push('&' + key + '=' + val);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif (hash) {\n\t\t\turlString.push(hash.indexOf('#') > -1 ? hash : '#' + hash);\n\t\t};\n\t\treturn urlString.join('');\n\t},\n\t/**\n\t * [resolve 将参数 to 位置的字符解析到一个绝对路径里]\n\t * @param  {[String]} from [源路径]\n\t * @param  {[String]} to   [将被解析到绝对路径的字符串]\n\t * @return {[String]}      [返回一个绝对路径字符串]\n\t */\n\tresolve: function(from, to) {\n\t\t/**\n\t\t *  路径描述 ./当前路径 ../父路径\n\t\t */\n\t\tif (/^(.\\/)/.test(to)) {\n\t\t\tto = to.replace(/^(.\\/)/, '/');\n\t\t};\n\n\t\tif (/^(..\\/)/.test(to)) {\n\t\t\tfrom = from.substr(0, from.lastIndexOf('/'));\n\t\t\tto = to.replace(/^(..\\/)/, '/');\n\t\t};\n\t\treturn from + to;\n\t},\n\t/**\n\t * [extname 返回指定文件名的扩展名称]\n\t * @param  {[String]} p [description]\n\t * @return {[String]}   [description]\n\t */\n\textname: function(p) {\n\t\tvar _p = p.split('.');\n\t\treturn _p[_p.length - 1] || '';\n\t},\n\t/**\n\t * [parseSearch 将search参数转换为obj]\n\t * @param  {[type]} query [description]\n\t * @return {[type]}       [description]\n\t */\n\tparseSearch:function(query){\n\t\tvar _query = {};\n\t\tvar seg = query.replace(/^\\?/, '').split('&'),\n\t\t\tleng = seg.length,\n\t\t\ti = 0,\n\t\t\tvalue,\n\t\t\ttarget;\n\t\tfor (; i < leng; i++) {\n\t\t\tif (!seg[i]) continue;\n\t\t\ttarget = seg[i].split('=');\n\t\t\tvalue = target[1];\n\t\t\tif ((/^\\[/.test(value) && /\\]$/.test(value)) || (/^{/.test(value) || /\\}$/.test(value))) {\n\t\t\t\tvalue = JSON.parse(value);\n\t\t\t};\n\t\t\t_query[target[0]] = value;\n\t\t}\n\t\treturn _query;\n\t}\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util/url.js\n ** module id = 1\n ** module chunks = 0\n **/","/**\n * @time 2012年9月26日\n * @author icepy\n * @info 新建一个style.sheet对象，来标注新的css规则等\n */\n\n'use strict';\n\nmodule.exports = sheet();\n\nfunction sheet() {\n  // 使用style.sheet.insertRule()\n  var style = document.createElement('style');\n  style.appendChild(document.createTextNode(''));\n  document.head.appendChild(style);\n  return style.sheet;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util/sheet.js\n ** module id = 2\n ** module chunks = 0\n **/","/**\n * @time 2012年9月27日\n * @author icepy\n * @info 判断是否是原生函数\n */\n\n'use strict';\n\nmodule.exports = isNativeFunction;\n\nvar toString = Object.prototype.toString;\nvar funToString = Function.prototype.toString;\nvar reConstructor= /^\\[object .+?Constructor\\]$/;\nvar reNative = RegExp('^' +\n  String(toString)\n  .replace(/[.*+?^${}()|[\\]\\/\\\\]/g, '\\\\$&')\n  .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n/**\n * [判断一个值或者对象是否为原生函数或对象]\n * @param  {[type]} value [description]\n * @return {[type]}       [description]\n */\nfunction isNativeFunction(value) {\n  var type = typeof value;\n  return type === 'function' ? reNative.test(funToString.call(value)) : (value && type === 'object' && reConstructor.test(toString.call(value))) || false;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util/isNativeFunction.js\n ** module id = 3\n ** module chunks = 0\n **/","/*\n    引用`https://github.com/js-cookie/js-cookie` 2.1.0\n */\n\n'use strict';\n\nmodule.exports = init(function () {});\n\nfunction extend () {\n  var i = 0;\n  var result = {};\n  for (; i < arguments.length; i++) {\n    var attributes = arguments[ i ];\n    for (var key in attributes) {\n      result[key] = attributes[key];\n    }\n  }\n  return result;\n}\n\nfunction init (converter) {\n  function api (key, value, attributes) {\n    var result;\n\n    // Write\n\n    if (arguments.length > 1) {\n      attributes = extend({\n        path: '/'\n      }, api.defaults, attributes);\n\n      if (typeof attributes.expires === 'number') {\n        var expires = new Date();\n        expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n        attributes.expires = expires;\n      }\n\n      try {\n        result = JSON.stringify(value);\n        if (/^[\\{\\[]/.test(result)) {\n          value = result;\n        }\n      } catch (e) {}\n\n      if (!converter.write) {\n        value = encodeURIComponent(String(value))\n          .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n      } else {\n        value = converter.write(value, key);\n      }\n\n      key = encodeURIComponent(String(key));\n      key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n      key = key.replace(/[\\(\\)]/g, escape);\n\n      return (document.cookie = [\n        key, '=', value,\n        attributes.expires && '; expires=' + attributes.expires.toUTCString(), // use expires attribute, max-age is not supported by IE\n        attributes.path    && '; path=' + attributes.path,\n        attributes.domain  && '; domain=' + attributes.domain,\n        attributes.secure ? '; secure' : ''\n      ].join(''));\n    }\n\n    // Read\n\n    if (!key) {\n      result = {};\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all. Also prevents odd result when\n    // calling \"get()\"\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var rdecode = /(%[0-9A-Z]{2})+/g;\n    var i = 0;\n\n    for (; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var name = parts[0].replace(rdecode, decodeURIComponent);\n      var cookie = parts.slice(1).join('=');\n\n      if (cookie.charAt(0) === '\"') {\n        cookie = cookie.slice(1, -1);\n      }\n\n      try {\n        cookie = converter.read ?\n          converter.read(cookie, name) : converter(cookie, name) ||\n          cookie.replace(rdecode, decodeURIComponent);\n\n        if (this.json) {\n          try {\n            cookie = JSON.parse(cookie);\n          } catch (e) {}\n        }\n\n        if (key === name) {\n          result = cookie;\n          break;\n        }\n\n        if (!key) {\n          result[name] = cookie;\n        }\n      } catch (e) {}\n    }\n\n    return result;\n  }\n\n  api.get = api.set = api;\n  api.getJSON = function () {\n    return api.apply({\n      json: true\n    }, [].slice.call(arguments));\n  };\n  api.defaults = {};\n\n  api.remove = function (key, attributes) {\n    api(key, '', extend(attributes, {\n      expires: -1\n    }));\n  };\n\n  api.withConverter = init;\n\n  return api;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/store/cookie.js\n ** module id = 4\n ** module chunks = 0\n **/","/**\r\n * @time 2016年3月3日\r\n * @author  icepy\r\n * @info  跨域模拟Ajax的Form表单\r\n */\r\n\r\n'use strict';\r\n\r\nvar url = require('../util/url');\r\nvar uniqueId = require('../util/uniqueId');\r\n\r\nvar AjaxForm = function(options){\r\n\toptions = options || {};\r\n\tthis.$el = typeof options.el === 'string' ? $(options.el) : options.el;\r\n\tthis.uid = uniqueId('AjaxForm-');\r\n\tthis.loadState = false;\r\n\tthis._init();\r\n};\r\n\r\nAjaxForm.prototype._init = function(){\r\n\tvar defer = $.Deferred();\r\n\t$.extend(this,defer.promise());\r\n\tthis._createIframe();\r\n\tthis._addEvent(defer);\r\n};\r\n\r\nAjaxForm.prototype._createIframe = function(){\r\n\tvar iframeHTML = '<iframe id=\"'+this.uid+'\" name=\"'+this.uid+'\"  style=\"display: none;\" src=\"about:blank\"></iframe>';\r\n\tthis.$el.attr('target',this.uid);\r\n\tthis.$el.append(iframeHTML);\r\n\tthis._iframe = $('#'+this.uid);\r\n\t$('<input />').attr({\r\n\t\ttype : 'hidden',\r\n\t\tname : 'cross_post',\r\n\t\tvalue : '1'\r\n\t}).appendTo(this.$el);\r\n};\r\n\r\nAjaxForm.prototype._addEvent = function(promise){\r\n\tvar self = this;\r\n\tthis._iframe.on('load',function(){\r\n\t\tif (self.loadState) {\r\n\t\t\tvar cw = this.contentWindow;\r\n\t\t\tvar loc = cw.location;\r\n\t\t\tif (loc.href === 'about:blank') {\r\n\t\t\t\tpromise.reject(cw);\r\n\t\t\t}else{\r\n\t\t\t\ttry {//如果后台没有作跨域处理，则需手动触发onComplete\r\n\t\t\t\t\tvar body = this._iframe[0].contentWindow.document.body;\r\n\t\t\t\t\tinnerText = body.innerText;\r\n\t\t\t\t\tif (!innerText) {\r\n\t\t\t\t\t\tinnerText = body.innerHTML;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (innerText) {\r\n\t\t\t\t\t\tpromise.resolve($.parseJSON(innerText));\r\n\t\t\t\t\t};\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tpromise.resolve(cw);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tself.loadState = false;\r\n\t\t};\r\n\t});\r\n};\r\n\r\nAjaxForm.prototype.encrypto = function(secret){\r\n\tvar self = this;\r\n\t$.each(secret, function(key, value) {\r\n\t\tvar $item = self.$el.find('[name=' + key + ']');\r\n\t\tif ($item.length === 0) {\r\n\t\t\t$('<input />').attr({\r\n\t\t\t\ttype : 'hidden',\r\n\t\t\t\tname : key,\r\n\t\t\t\tvalue : value\r\n\t\t\t}).appendTo(self.$el);\r\n\t\t} else {\r\n\t\t\t$item.val(value);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nvar shared = null;\r\nAjaxForm.sharedInstanceAjaxForm = function(element,options){\r\n\tif (!shared) {\r\n\t\toptions = options || {};\r\n\t\toptions.el = element;\r\n\t\tshared = new AjaxForm(options);\r\n\t}\r\n\treturn shared;\r\n};\r\nAjaxForm.classInstanceAjaxForm = function(element,options){\r\n\toptions = options || {};\r\n\toptions.el = element;\r\n\treturn new AjaxForm(options);\r\n};\r\n\r\nmodule.exports = AjaxForm;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/upload/AjaxForm.js\n ** module id = 5\n ** module chunks = 0\n **/","\nmodule.exports = uniqueId;\n\nvar idCounter = 0;\nfunction uniqueId(prefix) {\n  var id = ++idCounter + '';\n  return prefix ? prefix + id : id;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util/uniqueId.js\n ** module id = 6\n ** module chunks = 0\n **/","/**\r\n * @time 2016年3月3日\r\n * @author  icepy\r\n * @info  跨域上传图片，只支持iframe的方式\r\n */\r\n\r\n'use strict';\r\n\r\nvar url = require('../util/url');\r\nvar AjaxForm = require('./AjaxForm');\r\nvar uniqueId = require('../util/uniqueId');\r\n\r\nvar UploadFile = function(options){\r\n\tvar self = this;\r\n\tthis.$el = typeof options.el === 'string' ? $(options.el) : options.el;\r\n\tthis.uid = uniqueId('UploadFile-');\r\n\tthis.options = options;\r\n\tthis._data = options.data || {};\r\n\tthis._filename = options.filename || 'image';\r\n\tthis._url = options.url;\r\n\tif (!this._url) {\r\n\t\tconsole.warn('配置上传URL');\r\n\t\treturn;\r\n\t};\r\n\tthis._init();\r\n\tvar defer = $.Deferred();\r\n\t$.extend(this,defer.promise());\r\n\tthis.ajaxForm = AjaxForm.classInstanceAjaxForm(this.$el,{\r\n\t\ttype:'img'\r\n\t});\r\n\tthis.ajaxForm.done(function(cw){\r\n\t\tvar loc = cw.location;\r\n\t\tvar search = decodeURIComponent(loc.search);\r\n\t\tvar query = url.parseSearch(search);\r\n\t\tdefer.resolve(query);\r\n\t});\r\n\tthis.ajaxForm.fail(function(){\r\n\t\tdefer.reject(this);\r\n\t});\r\n};\r\n\r\nUploadFile.prototype._init = function(){\r\n\tthis._createElement();\r\n};\r\n\r\nUploadFile.prototype._createElement = function(){\r\n\tvar inputs = '';\r\n\tfor(var name in this._data){\r\n\t\tvar value = this._data[name];\r\n\t\tvar type = Object.prototype.toString.call(value);\r\n\t\tif (type === '[object Object]' || type === '[object Array]') {\r\n\t\t\tvalue = JSON.stringify(value);\r\n\t\t};\r\n\t\tinputs += '<input type=\"hidden\" name=\"'+name+'\" value=\\''+value+'\\'/>';\r\n\t};\r\n\tinputs += '<input type=\"file\" class=\"opacity0 upload-file '+this.options.className+'\" name=\"'+this._filename+'\"  />';\r\n\tthis.$el.attr('method','POST');\r\n\tthis.$el.attr('action',this._url);\r\n\tthis.$el.attr('enctype','multipart/form-data');\r\n\tthis.$el.append(inputs);\r\n};\r\n\r\n//错误码消息映射\r\nUploadFile.prototype.parseErrorMsg = function(res){\r\n\tif(res && res.state == 'SUCCESS'){\r\n\t\treturn true;\r\n\t}\r\n\tvar code = res.errCode *1 || 0;\r\n\tswitch(code){\r\n\t\tcase 29:\r\n\t\t\treturn '上传的文件太大了,请重新上传';\r\n\t\tcase 31:\r\n\t\t\treturn '请上传JPGE,JPG,PNG,GIF等格式的图片文件';\r\n\t}\r\n\treturn '文件上传失败,请重新上传';\r\n};\r\n\r\n/**\r\n * [submit 提交文件]\r\n * @return {[type]} [description]\r\n */\r\nUploadFile.prototype.submit = function(){\r\n\tthis.ajaxForm.loadState = true;\r\n\tif (typeof this._before === 'function' ) {\r\n\t\tthis._before();\r\n\t};\r\n\tthis.$el.submit();\r\n};\r\n\r\nvar shared = null;\r\nUploadFile.sharedInstanceUploadFile = function(options){\r\n\tif (!shared) {\r\n\t\tshared = new UploadFile(options);\r\n\t}\r\n\treturn shared;\r\n};\r\nUploadFile.classInstanceUploadFile = function(options){\r\n\treturn new UploadFile(options);\r\n};\r\n\r\nmodule.exports = UploadFile;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/upload/UploadFile.js\n ** module id = 7\n ** module chunks = 0\n **/"],"sourceRoot":""}