{"version":3,"sources":["webpack:///now-extend.min.js","webpack:///webpack/bootstrap 20ffeb9d50a022c06253","webpack:///./src/index.js","webpack:///./src/util/url.js","webpack:///./src/store/locationStore.js","webpack:///./src/store/cookie.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","url","store","cookie","global","factory","self","urlString","window","location","parse","temp","document","createElement","href","target","result","port","protocol","replace","hash","host","hostname","pathname","search","query","seg","split","leng","length","i","format","obj","push","lastIndexOf","key","val","indexOf","join","resolve","from","to","test","substr","extname","_p","parseSearch","value","_query","JSON","this","storage","session","_window","localStorageName","sessionStorageName","rootKey","isLocalStorageNameSupported","err","isSessionStorageNameSupported","disabled","version","has","undefined","get","transact","defaultVal","transactionFn","set","serialize","stringify","deserialize","e","remove","setItem","getItem","removeItem","clear","getAll","ret","forEach","callback","expiration","exp","Root","time","Date","getTime","info","resetSave","stayStore","Object","prototype","toString","testKey","enabled","modelCache","cacheKey","cache","name","cookieEnd","cookieName","encodeURIComponent","cookieStart","cookieValue","decodeURIComponent","substring","expires","path","domain","secure","cookieText","toUTCString","unset"],"mappings":"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","file":"now-extend.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar url = __webpack_require__(1);\n\tvar store = __webpack_require__(2);\n\tvar cookie = __webpack_require__(3);\n\t\n\tmodule.exports = {\n\t    url:url,\n\t    store:store,\n\t    cookie:cookie\n\t}\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\n\t * @time 2012年10月26日\n\t * @author icepy\n\t * @info 完成处理URL字符串\n\t *\n\t */\n\t\n\t'use strict';\n\t\n\t(function(factory) {\n\t\tvar root = (typeof self == 'object' && self.self == self && self) ||\n\t\t\t(typeof global == 'object' && global.global == global && global);\n\t\tif(true){\n\t\t\tmodule.exports = factory();\n\t\t}else if(typeof exports === 'object'){\n\t\t\texports['url'] = factory()\n\t\t}else{\n\t\t\tif (!root.ICEPlugs) {\n\t\t\t\troot.ICEPlugs = {};\n\t\t\t};\n\t\t\troot.ICEPlugs.url = factory();\n\t\t};\n\t})(function() {\n\t\tvar urlString = [];\n\t\tvar location = window.location;\n\t\treturn {\n\t\t\t/**\n\t\t\t * [parse 处理一个字符串URL]\n\t\t\t * @param  {[String]} url [传入一个字符串url]\n\t\t\t * @return {[Object]}     [返回一个object对象]\n\t\t\t */\n\t\t\tparse: function(url) {\n\t\t\t\tvar temp = document.createElement('a');\n\t\t\t\ttemp.href = url;\n\t\t\t\tvar result = {\n\t\t\t\t\t\"port\": temp.port,\n\t\t\t\t\t\"protocol\": temp.protocol.replace(':', ''),\n\t\t\t\t\t\"hash\": temp.hash.replace('#', ''),\n\t\t\t\t\t\"host\": temp.host,\n\t\t\t\t\t\"href\": temp.href,\n\t\t\t\t\t\"hostname\": temp.hostname,\n\t\t\t\t\t\"pathname\": temp.pathname,\n\t\t\t\t\t\"search\": temp.search,\n\t\t\t\t\t\"query\": {}\n\t\t\t\t};\n\t\t\t\tvar seg = result.search.replace(/^\\?/, '').split('&'),\n\t\t\t\t\tleng = seg.length,\n\t\t\t\t\ti = 0,\n\t\t\t\t\ttarget;\n\t\t\t\tfor (; i < leng; i++) {\n\t\t\t\t\tif (!seg[i]) continue;\n\t\t\t\t\ttarget = seg[i].split('=');\n\t\t\t\t\tresult.query[target[0]] = target[1];\n\t\t\t\t}\n\t\t\t\ttemp = null;\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\t/**\n\t\t\t * [format 拼接一个完整的url字符串]\n\t\t\t * @param  {[String]} url [URL]\n\t\t\t * @param  {[Object]} obj [需要拼接的query或者hash参数]\n\t\t\t * @return {[String]}     [返回一个完整的URL字符串]\n\t\t\t */\n\t\t\tformat: function(url, obj) {\n\t\t\t\tvar i = 0,\n\t\t\t\t\tquery = obj.query,\n\t\t\t\t\thash = obj.hash;\n\t\t\t\turlString.length = 0;\n\t\t\t\turlString.push(url.lastIndexOf('?') > -1 ? url : url + '?');\n\t\t\t\tif (query) {\n\t\t\t\t\tfor (var key in query) {\n\t\t\t\t\t\tvar val = query[key]\n\t\t\t\t\t\tif (!i) {\n\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\turlString.push(key + '=' + val)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\turlString.push('&' + key + '=' + val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (hash) {\n\t\t\t\t\turlString.push(hash.indexOf('#') > -1 ? hash : '#' + hash);\n\t\t\t\t};\n\t\t\t\treturn urlString.join('');\n\t\t\t},\n\t\t\t/**\n\t\t\t * [resolve 将参数 to 位置的字符解析到一个绝对路径里]\n\t\t\t * @param  {[String]} from [源路径]\n\t\t\t * @param  {[String]} to   [将被解析到绝对路径的字符串]\n\t\t\t * @return {[String]}      [返回一个绝对路径字符串]\n\t\t\t */\n\t\t\tresolve: function(from, to) {\n\t\t\t\t/**\n\t\t\t\t *  路径描述 ./当前路径 ../父路径\n\t\t\t\t */\n\t\t\t\tif (/^(.\\/)/.test(to)) {\n\t\t\t\t\tto = to.replace(/^(.\\/)/, '/');\n\t\t\t\t};\n\t\n\t\t\t\tif (/^(..\\/)/.test(to)) {\n\t\t\t\t\tfrom = from.substr(0, from.lastIndexOf('/'));\n\t\t\t\t\tto = to.replace(/^(..\\/)/, '/');\n\t\t\t\t};\n\t\t\t\treturn from + to;\n\t\t\t},\n\t\t\t/**\n\t\t\t * [extname 返回指定文件名的扩展名称]\n\t\t\t * @param  {[String]} p [description]\n\t\t\t * @return {[String]}   [description]\n\t\t\t */\n\t\t\textname: function(p) {\n\t\t\t\tvar _p = p.split('.');\n\t\t\t\treturn _p[_p.length - 1] || '';\n\t\t\t},\n\t\t\t/**\n\t\t\t * [parseSearch 将search参数转换为obj]\n\t\t\t * @param  {[type]} query [description]\n\t\t\t * @return {[type]}       [description]\n\t\t\t */\n\t\t\tparseSearch:function(query){\n\t\t\t\tvar _query = {};\n\t\t\t\tvar seg = query.replace(/^\\?/, '').split('&'),\n\t\t\t\t\tleng = seg.length,\n\t\t\t\t\ti = 0,\n\t\t\t\t\tvalue,\n\t\t\t\t\ttarget;\n\t\t\t\tfor (; i < leng; i++) {\n\t\t\t\t\tif (!seg[i]) continue;\n\t\t\t\t\ttarget = seg[i].split('=');\n\t\t\t\t\tvalue = target[1];\n\t\t\t\t\tif ((/^\\[/.test(value) && /\\]$/.test(value)) || (/^{/.test(value) || /\\}$/.test(value))) {\n\t\t\t\t\t\tvalue = JSON.parse(value);\n\t\t\t\t\t};\n\t\t\t\t\t_query[target[0]] = value;\n\t\t\t\t}\n\t\t\t\treturn _query;\n\t\t\t}\n\t\t}\n\t});\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\n\t * @time 2012年10月27日\n\t * @author icepy\n\t * @info 封装完成本地缓存API\n\t *\n\t * @time 2016年2月27日\n\t * @author icepy\n\t * @info 改造兼容webpack打包\n\t */\n\t\n\t'use strict';\n\t\n\t(function(factory) {\n\t\tvar root = (typeof self == 'object' && self.self == self && self) ||\n\t\t\t(typeof global == 'object' && global.global == global && global);\n\t\tif(true){\n\t\t\tmodule.exports = factory();\n\t\t}else if(typeof exports === 'object'){\n\t\t\texports['store'] = factory()\n\t\t}else{\n\t\t\tif (!root.ICEPlugs) {\n\t\t\t\troot.ICEPlugs = {};\n\t\t\t};\n\t\t\troot.ICEPlugs.store = factory();\n\t\t};\n\t})(function() {\n\t\tvar store = {};\n\t\tvar _window = window;\n\t\tvar localStorageName = 'localStorage';\n\t\tvar sessionStorageName = 'sessionStorage';\n\t\tvar rootKey = 'ICEStorageCache';\n\t\tvar storage, session;\n\t\tvar isLocalStorageNameSupported = function() {\n\t\t\ttry {\n\t\t\t\treturn (localStorageName in _window && _window[localStorageName]);\n\t\t\t} catch (err) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\t\tvar isSessionStorageNameSupported = function() {\n\t\t\ttry {\n\t\t\t\treturn (sessionStorageName in _window && _window[sessionStorageName]);\n\t\t\t} catch (err) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\t\tstore.disabled = false;\n\t\tstore.version = '0.0.1';\n\t\t/**\n\t\t * [has 根据Key判断是否存在]\n\t\t * @param  {[String]}  key [description]\n\t\t * @return {Boolean}     [description]\n\t\t */\n\t\tstore.has = function(key) {\n\t\t\treturn store.get(key) !== undefined;\n\t\t};\n\t\n\t\t/**\n\t\t * [transact 有存储是否成功的回调函数]\n\t\t * @param  {[String]} key           [description]\n\t\t * @param  {[String]} defaultVal    [description]\n\t\t * @param  {[type]} transactionFn [description]\n\t\t */\n\t\tstore.transact = function(key, defaultVal, transactionFn) {\n\t\t\tif (transactionFn == null) {\n\t\t\t\ttransactionFn = defaultVal;\n\t\t\t\tdefaultVal = null;\n\t\t\t}\n\t\n\t\t\tif (defaultVal == null) {\n\t\t\t\tdefaultVal = {};\n\t\t\t}\n\t\n\t\t\tvar val = store.get(key, defaultVal);\n\t\t\ttransactionFn(val);\n\t\t\tstore.set(key, val);\n\t\t};\n\t\t/**\n\t\t * [serialize 对象转字符串]\n\t\t * @param  {[Object]} value [description]\n\t\t * @return {[String]}       [description]\n\t\t */\n\t\tstore.serialize = function(value) {\n\t\t\treturn JSON.stringify(value);\n\t\t};\n\t\t/**\n\t\t * [deserialize 字符串格式化对象]\n\t\t * @param  {[String]} value [description]\n\t\t * @return {[Object]}       [description]\n\t\t */\n\t\tstore.deserialize = function(value) {\n\t\t\tif (typeof value != 'string') {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(value);\n\t\t\t} catch (e) {\n\t\t\t\treturn value || undefined;\n\t\t\t}\n\t\t};\n\t\tif (isLocalStorageNameSupported()) {\n\t\t\tstorage = _window[localStorageName];\n\t\t\t/**\n\t\t\t * [set  存储本地缓存]\n\t\t\t * @param {[String]} key [description]\n\t\t\t * @param {[Object]} val [description]\n\t\t\t */\n\t\t\tstore.set = function(key, val) {\n\t\t\t\tif (val === undefined) {\n\t\t\t\t\treturn store.remove(key);\n\t\t\t\t}\n\t\t\t\tstorage.setItem(key, store.serialize(val));\n\t\t\t\treturn val;\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * [get 获取本地缓存]\n\t\t\t * @param  {[String]} key        [description]\n\t\t\t * @param  {[type]} defaultVal [description]\n\t\t\t * @return {[Boolean]}            [description]\n\t\t\t */\n\t\t\tstore.get = function(key, defaultVal) {\n\t\t\t\tvar val = store.deserialize(storage.getItem(key));\n\t\t\t\treturn (val === undefined ? defaultVal : val);\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * [remove 根据key名删除一个本地缓存]\n\t\t\t * @param  {[String]} key [description]\n\t\t\t */\n\t\t\tstore.remove = function(key) {\n\t\t\t\tstorage.removeItem(key);\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * [clear 清除所有的本地缓存]\n\t\t\t */\n\t\t\tstore.clear = function() {\n\t\t\t\tstorage.clear();\n\t\t\t};\n\t\n\t\t\t/**\n\t\t\t * [getAll description]\n\t\t\t * @return {[Object]} [description]\n\t\t\t */\n\t\t\tstore.getAll = function() {\n\t\t\t\tvar ret = {};\n\t\t\t\tstore.forEach(function(key, val) {\n\t\t\t\t\tret[key] = val;\n\t\t\t\t});\n\t\t\t\treturn ret;\n\t\t\t};\n\t\t\tstore.forEach = function(callback) {\n\t\t\t\tfor (var i = 0; i < storage.length; i++) {\n\t\t\t\t\tvar key = storage.key(i);\n\t\t\t\t\tcallback(key, store.get(key));\n\t\t\t\t}\n\t\t\t};\n\t\t\t//可以设置过期时间\n\t\t\tstore.expiration = {\n\t\t\t\t/**\n\t\t\t\t * [set 存储可以设置过期时间的本地缓存]\n\t\t\t\t * @param {[String]} key [description]\n\t\t\t\t * @param {[Object]} val [description]\n\t\t\t\t * @param {[Number]} exp [description]\n\t\t\t\t */\n\t\t\t\tset: function(key, val, exp) {\n\t\t\t\t\t//exp 接受自然整数，以一小时60分钟为单位\n\t\t\t\t\tvar Root = store.get(rootKey) || {};\n\t\t\t\t\tRoot[key] = {\n\t\t\t\t\t\tval: val,\n\t\t\t\t\t\texp: exp * (1000 * 60 * 60),\n\t\t\t\t\t\ttime: new Date().getTime()\n\t\t\t\t\t};\n\t\t\t\t\tstore.set(rootKey, Root);\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * [get 获取有过期时间的本地缓存]\n\t\t\t\t * @param  {[String]} key [description]\n\t\t\t\t * @return {[*]}     [*]\n\t\t\t\t */\n\t\t\t\tget: function(key) {\n\t\t\t\t\tvar Root = store.get(rootKey);\n\t\t\t\t\tif (!Root) {\n\t\t\t\t\t\t//根节点不存在\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t};\n\t\t\t\t\tvar info = Root[key];\n\t\t\t\t\tif (!info) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tif (new Date().getTime() - info.time > info.exp) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn info.val\n\t\t\t\t},\n\t\t\t\tgetAll: function() {\n\t\t\t\t\tvar Root = store.get(rootKey);\n\t\t\t\t\treturn Root || null;\n\t\t\t\t},\n\t\t\t\tresetSave: function(val) {\n\t\t\t\t\tstore.set(rootKey, val);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (isSessionStorageNameSupported()) {\n\t\t\t\tsession = _window[sessionStorageName];\n\t\t\t\t//会话模式\n\t\t\t\tstore.session = {\n\t\t\t\t\t/**\n\t\t\t\t\t * [set 存储一个会话]\n\t\t\t\t\t * @param {[String]} key [description]\n\t\t\t\t\t * @param {[*]} val [*]\n\t\t\t\t\t */\n\t\t\t\t\tset: function(key, val) {\n\t\t\t\t\t\tif (val === undefined) {\n\t\t\t\t\t\t\treturn store.remove(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar stayStore;\n\t\t\t\t\t\tif (Object.prototype.toString.call(val) === '[object Object]') {\n\t\t\t\t\t\t\tstayStore = store.serialize(val);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstayStore = val;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tsession.setItem(key, stayStore);\n\t\t\t\t\t},\n\t\t\t\t\t/**\n\t\t\t\t\t * [get 获取一个会话]\n\t\t\t\t\t * @param  {[String]} key [description]\n\t\t\t\t\t * @return {[Boolean]}     [description]\n\t\t\t\t\t */\n\t\t\t\t\tget: function(key) {\n\t\t\t\t\t\tvar val = store.deserialize(session.getItem(key));\n\t\t\t\t\t\treturn (val === undefined ? defaultVal : val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\ttry {\n\t\t\tvar testKey = '__storeJs__';\n\t\t\tstore.set(testKey, testKey);\n\t\t\tif (store.get(testKey) != testKey) {\n\t\t\t\tstore.disabled = true;\n\t\t\t}\n\t\t\tstore.remove(testKey);\n\t\t} catch (e) {\n\t\t\tstore.disabled = true;\n\t\t}\n\t\tstore.enabled = !store.disabled;\n\t\tif (store.enabled) {\n\t\t\tvar modelCache = store.expiration.getAll();\n\t\t\tif (modelCache) {\n\t\t\t\tfor (var cacheKey in modelCache) {\n\t\t\t\t\tvar cache = modelCache[cacheKey];\n\t\t\t\t\tif (new Date().getTime() - cache.time > cache.exp) {\n\t\t\t\t\t\tcache = null;\n\t\t\t\t\t\tdelete modelCache[cacheKey]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tstore.expiration.resetSave(modelCache);\n\t\t};\n\t\treturn store;\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\n\t * @time 2012年10月26日\n\t * @author icepy\n\t * @info 完成cookie模块\n\t */\n\t\n\t'use strict';\n\t\n\t(function(factory) {\n\t\tvar root = (typeof self == 'object' && self.self == self && self) ||\n\t\t\t(typeof global == 'object' && global.global == global && global);\n\t\tif(true){\n\t\t\tmodule.exports = factory();\n\t\t}else if(typeof exports === 'object'){\n\t\t\texports['cookie'] = factory()\n\t\t}else{\n\t\t\tif (!root.ICEPlugs) {\n\t\t\t\troot.ICEPlugs = {};\n\t\t\t};\n\t\t\troot.ICEPlugs.cookie = factory();\n\t\t};\n\t})(function() {\n\t\treturn {\n\t\t\t/**\n\t\t\t * [get 获取cookie]\n\t\t\t * @param  {[String]} name [description]\n\t\t\t */\n\t\t\tget: function(name) {\n\t\t\t\tvar cookieName = encodeURIComponent(name) + '=';\n\t\t\t\tvar cookieStart = document.cookie.indexOf(cookieName);\n\t\t\t\tvar cookieValue = null;\n\t\t\t\tvar cookieEnd;\n\t\t\t\tif (cookieStart > -1) {\n\t\t\t\t\tcookieEnd = document.cookie.indexOf(';', cookieStart);\n\t\t\t\t\tif (cookieEnd == -1) {\n\t\t\t\t\t\tcookieEnd = document.cookie.length;\n\t\t\t\t\t}\n\t\t\t\t\tcookieValue = decodeURIComponent(document.cookie.substring(cookieStart +\n\t\t\t\t\t\tcookieName.length, cookieEnd));\n\t\t\t\t}\n\t\t\t\treturn cookieValue;\n\t\t\t},\n\t\t\t/**\n\t\t\t * [set 设置cookie]\n\t\t\t * @param {[type]} name    [description]\n\t\t\t * @param {[type]} value   [description]\n\t\t\t * @param {[type]} expires [description]\n\t\t\t * @param {[type]} path    [description]\n\t\t\t * @param {[type]} domain  [description]\n\t\t\t * @param {[type]} secure  [description]\n\t\t\t */\n\t\t\tset: function(name, value, expires, path, domain, secure) {\n\t\t\t\tvar cookieText = encodeURIComponent(name) + '=' +\n\t\t\t\t\tencodeURIComponent(value);\n\t\t\t\tif (expires instanceof Date) {\n\t\t\t\t\tcookieText += '; expires=' + expires.toUTCString();\n\t\t\t\t}\n\t\t\t\tif (path) {\n\t\t\t\t\tcookieText += '; path=' + path;\n\t\t\t\t}\n\t\t\t\tif (domain) {\n\t\t\t\t\tcookieText += '; domain=' + domain;\n\t\t\t\t}\n\t\t\t\tif (secure) {\n\t\t\t\t\tcookieText += '; secure';\n\t\t\t\t}\n\t\t\t\tdocument.cookie = cookieText;\n\t\t\t},\n\t\t\t/**\n\t\t\t * [unset 删除cookie]\n\t\t\t * @param  {[type]} name   [description]\n\t\t\t * @param  {[type]} path   [description]\n\t\t\t * @param  {[type]} domain [description]\n\t\t\t * @param  {[type]} secure [description]\n\t\t\t */\n\t\t\tunset: function(name, path, domain, secure) {\n\t\t\t\tthis.set(name, '', new Date(0), path, domain, secure);\n\t\t\t},\n\t\t\tversion: '0.0.1'\n\t\t};\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** now-extend.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 20ffeb9d50a022c06253\n **/","var url = require('./util/url');\nvar store = require('./store/locationStore');\nvar cookie = require('./store/cookie');\n\nmodule.exports = {\n    url:url,\n    store:store,\n    cookie:cookie\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","/**\n * @time 2012年10月26日\n * @author icepy\n * @info 完成处理URL字符串\n *\n */\n\n'use strict';\n\n(function(factory) {\n\tvar root = (typeof self == 'object' && self.self == self && self) ||\n\t\t(typeof global == 'object' && global.global == global && global);\n\tif(typeof exports === 'object' && typeof module === 'object'){\n\t\tmodule.exports = factory();\n\t}else if(typeof exports === 'object'){\n\t\texports['url'] = factory()\n\t}else{\n\t\tif (!root.ICEPlugs) {\n\t\t\troot.ICEPlugs = {};\n\t\t};\n\t\troot.ICEPlugs.url = factory();\n\t};\n})(function() {\n\tvar urlString = [];\n\tvar location = window.location;\n\treturn {\n\t\t/**\n\t\t * [parse 处理一个字符串URL]\n\t\t * @param  {[String]} url [传入一个字符串url]\n\t\t * @return {[Object]}     [返回一个object对象]\n\t\t */\n\t\tparse: function(url) {\n\t\t\tvar temp = document.createElement('a');\n\t\t\ttemp.href = url;\n\t\t\tvar result = {\n\t\t\t\t\"port\": temp.port,\n\t\t\t\t\"protocol\": temp.protocol.replace(':', ''),\n\t\t\t\t\"hash\": temp.hash.replace('#', ''),\n\t\t\t\t\"host\": temp.host,\n\t\t\t\t\"href\": temp.href,\n\t\t\t\t\"hostname\": temp.hostname,\n\t\t\t\t\"pathname\": temp.pathname,\n\t\t\t\t\"search\": temp.search,\n\t\t\t\t\"query\": {}\n\t\t\t};\n\t\t\tvar seg = result.search.replace(/^\\?/, '').split('&'),\n\t\t\t\tleng = seg.length,\n\t\t\t\ti = 0,\n\t\t\t\ttarget;\n\t\t\tfor (; i < leng; i++) {\n\t\t\t\tif (!seg[i]) continue;\n\t\t\t\ttarget = seg[i].split('=');\n\t\t\t\tresult.query[target[0]] = target[1];\n\t\t\t}\n\t\t\ttemp = null;\n\t\t\treturn result;\n\t\t},\n\t\t/**\n\t\t * [format 拼接一个完整的url字符串]\n\t\t * @param  {[String]} url [URL]\n\t\t * @param  {[Object]} obj [需要拼接的query或者hash参数]\n\t\t * @return {[String]}     [返回一个完整的URL字符串]\n\t\t */\n\t\tformat: function(url, obj) {\n\t\t\tvar i = 0,\n\t\t\t\tquery = obj.query,\n\t\t\t\thash = obj.hash;\n\t\t\turlString.length = 0;\n\t\t\turlString.push(url.lastIndexOf('?') > -1 ? url : url + '?');\n\t\t\tif (query) {\n\t\t\t\tfor (var key in query) {\n\t\t\t\t\tvar val = query[key]\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\turlString.push(key + '=' + val)\n\t\t\t\t\t} else {\n\t\t\t\t\t\turlString.push('&' + key + '=' + val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (hash) {\n\t\t\t\turlString.push(hash.indexOf('#') > -1 ? hash : '#' + hash);\n\t\t\t};\n\t\t\treturn urlString.join('');\n\t\t},\n\t\t/**\n\t\t * [resolve 将参数 to 位置的字符解析到一个绝对路径里]\n\t\t * @param  {[String]} from [源路径]\n\t\t * @param  {[String]} to   [将被解析到绝对路径的字符串]\n\t\t * @return {[String]}      [返回一个绝对路径字符串]\n\t\t */\n\t\tresolve: function(from, to) {\n\t\t\t/**\n\t\t\t *  路径描述 ./当前路径 ../父路径\n\t\t\t */\n\t\t\tif (/^(.\\/)/.test(to)) {\n\t\t\t\tto = to.replace(/^(.\\/)/, '/');\n\t\t\t};\n\n\t\t\tif (/^(..\\/)/.test(to)) {\n\t\t\t\tfrom = from.substr(0, from.lastIndexOf('/'));\n\t\t\t\tto = to.replace(/^(..\\/)/, '/');\n\t\t\t};\n\t\t\treturn from + to;\n\t\t},\n\t\t/**\n\t\t * [extname 返回指定文件名的扩展名称]\n\t\t * @param  {[String]} p [description]\n\t\t * @return {[String]}   [description]\n\t\t */\n\t\textname: function(p) {\n\t\t\tvar _p = p.split('.');\n\t\t\treturn _p[_p.length - 1] || '';\n\t\t},\n\t\t/**\n\t\t * [parseSearch 将search参数转换为obj]\n\t\t * @param  {[type]} query [description]\n\t\t * @return {[type]}       [description]\n\t\t */\n\t\tparseSearch:function(query){\n\t\t\tvar _query = {};\n\t\t\tvar seg = query.replace(/^\\?/, '').split('&'),\n\t\t\t\tleng = seg.length,\n\t\t\t\ti = 0,\n\t\t\t\tvalue,\n\t\t\t\ttarget;\n\t\t\tfor (; i < leng; i++) {\n\t\t\t\tif (!seg[i]) continue;\n\t\t\t\ttarget = seg[i].split('=');\n\t\t\t\tvalue = target[1];\n\t\t\t\tif ((/^\\[/.test(value) && /\\]$/.test(value)) || (/^{/.test(value) || /\\}$/.test(value))) {\n\t\t\t\t\tvalue = JSON.parse(value);\n\t\t\t\t};\n\t\t\t\t_query[target[0]] = value;\n\t\t\t}\n\t\t\treturn _query;\n\t\t}\n\t}\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/util/url.js\n ** module id = 1\n ** module chunks = 0\n **/","/**\n * @time 2012年10月27日\n * @author icepy\n * @info 封装完成本地缓存API\n *\n * @time 2016年2月27日\n * @author icepy\n * @info 改造兼容webpack打包\n */\n\n'use strict';\n\n(function(factory) {\n\tvar root = (typeof self == 'object' && self.self == self && self) ||\n\t\t(typeof global == 'object' && global.global == global && global);\n\tif(typeof exports === 'object' && typeof module === 'object'){\n\t\tmodule.exports = factory();\n\t}else if(typeof exports === 'object'){\n\t\texports['store'] = factory()\n\t}else{\n\t\tif (!root.ICEPlugs) {\n\t\t\troot.ICEPlugs = {};\n\t\t};\n\t\troot.ICEPlugs.store = factory();\n\t};\n})(function() {\n\tvar store = {};\n\tvar _window = window;\n\tvar localStorageName = 'localStorage';\n\tvar sessionStorageName = 'sessionStorage';\n\tvar rootKey = 'ICEStorageCache';\n\tvar storage, session;\n\tvar isLocalStorageNameSupported = function() {\n\t\ttry {\n\t\t\treturn (localStorageName in _window && _window[localStorageName]);\n\t\t} catch (err) {\n\t\t\treturn false;\n\t\t}\n\t};\n\tvar isSessionStorageNameSupported = function() {\n\t\ttry {\n\t\t\treturn (sessionStorageName in _window && _window[sessionStorageName]);\n\t\t} catch (err) {\n\t\t\treturn false;\n\t\t}\n\t};\n\tstore.disabled = false;\n\tstore.version = '0.0.1';\n\t/**\n\t * [has 根据Key判断是否存在]\n\t * @param  {[String]}  key [description]\n\t * @return {Boolean}     [description]\n\t */\n\tstore.has = function(key) {\n\t\treturn store.get(key) !== undefined;\n\t};\n\n\t/**\n\t * [transact 有存储是否成功的回调函数]\n\t * @param  {[String]} key           [description]\n\t * @param  {[String]} defaultVal    [description]\n\t * @param  {[type]} transactionFn [description]\n\t */\n\tstore.transact = function(key, defaultVal, transactionFn) {\n\t\tif (transactionFn == null) {\n\t\t\ttransactionFn = defaultVal;\n\t\t\tdefaultVal = null;\n\t\t}\n\n\t\tif (defaultVal == null) {\n\t\t\tdefaultVal = {};\n\t\t}\n\n\t\tvar val = store.get(key, defaultVal);\n\t\ttransactionFn(val);\n\t\tstore.set(key, val);\n\t};\n\t/**\n\t * [serialize 对象转字符串]\n\t * @param  {[Object]} value [description]\n\t * @return {[String]}       [description]\n\t */\n\tstore.serialize = function(value) {\n\t\treturn JSON.stringify(value);\n\t};\n\t/**\n\t * [deserialize 字符串格式化对象]\n\t * @param  {[String]} value [description]\n\t * @return {[Object]}       [description]\n\t */\n\tstore.deserialize = function(value) {\n\t\tif (typeof value != 'string') {\n\t\t\treturn undefined;\n\t\t}\n\t\ttry {\n\t\t\treturn JSON.parse(value);\n\t\t} catch (e) {\n\t\t\treturn value || undefined;\n\t\t}\n\t};\n\tif (isLocalStorageNameSupported()) {\n\t\tstorage = _window[localStorageName];\n\t\t/**\n\t\t * [set  存储本地缓存]\n\t\t * @param {[String]} key [description]\n\t\t * @param {[Object]} val [description]\n\t\t */\n\t\tstore.set = function(key, val) {\n\t\t\tif (val === undefined) {\n\t\t\t\treturn store.remove(key);\n\t\t\t}\n\t\t\tstorage.setItem(key, store.serialize(val));\n\t\t\treturn val;\n\t\t};\n\n\t\t/**\n\t\t * [get 获取本地缓存]\n\t\t * @param  {[String]} key        [description]\n\t\t * @param  {[type]} defaultVal [description]\n\t\t * @return {[Boolean]}            [description]\n\t\t */\n\t\tstore.get = function(key, defaultVal) {\n\t\t\tvar val = store.deserialize(storage.getItem(key));\n\t\t\treturn (val === undefined ? defaultVal : val);\n\t\t};\n\n\t\t/**\n\t\t * [remove 根据key名删除一个本地缓存]\n\t\t * @param  {[String]} key [description]\n\t\t */\n\t\tstore.remove = function(key) {\n\t\t\tstorage.removeItem(key);\n\t\t};\n\n\t\t/**\n\t\t * [clear 清除所有的本地缓存]\n\t\t */\n\t\tstore.clear = function() {\n\t\t\tstorage.clear();\n\t\t};\n\n\t\t/**\n\t\t * [getAll description]\n\t\t * @return {[Object]} [description]\n\t\t */\n\t\tstore.getAll = function() {\n\t\t\tvar ret = {};\n\t\t\tstore.forEach(function(key, val) {\n\t\t\t\tret[key] = val;\n\t\t\t});\n\t\t\treturn ret;\n\t\t};\n\t\tstore.forEach = function(callback) {\n\t\t\tfor (var i = 0; i < storage.length; i++) {\n\t\t\t\tvar key = storage.key(i);\n\t\t\t\tcallback(key, store.get(key));\n\t\t\t}\n\t\t};\n\t\t//可以设置过期时间\n\t\tstore.expiration = {\n\t\t\t/**\n\t\t\t * [set 存储可以设置过期时间的本地缓存]\n\t\t\t * @param {[String]} key [description]\n\t\t\t * @param {[Object]} val [description]\n\t\t\t * @param {[Number]} exp [description]\n\t\t\t */\n\t\t\tset: function(key, val, exp) {\n\t\t\t\t//exp 接受自然整数，以一小时60分钟为单位\n\t\t\t\tvar Root = store.get(rootKey) || {};\n\t\t\t\tRoot[key] = {\n\t\t\t\t\tval: val,\n\t\t\t\t\texp: exp * (1000 * 60 * 60),\n\t\t\t\t\ttime: new Date().getTime()\n\t\t\t\t};\n\t\t\t\tstore.set(rootKey, Root);\n\t\t\t},\n\t\t\t/**\n\t\t\t * [get 获取有过期时间的本地缓存]\n\t\t\t * @param  {[String]} key [description]\n\t\t\t * @return {[*]}     [*]\n\t\t\t */\n\t\t\tget: function(key) {\n\t\t\t\tvar Root = store.get(rootKey);\n\t\t\t\tif (!Root) {\n\t\t\t\t\t//根节点不存在\n\t\t\t\t\treturn null;\n\t\t\t\t};\n\t\t\t\tvar info = Root[key];\n\t\t\t\tif (!info) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (new Date().getTime() - info.time > info.exp) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn info.val\n\t\t\t},\n\t\t\tgetAll: function() {\n\t\t\t\tvar Root = store.get(rootKey);\n\t\t\t\treturn Root || null;\n\t\t\t},\n\t\t\tresetSave: function(val) {\n\t\t\t\tstore.set(rootKey, val);\n\t\t\t}\n\t\t};\n\t\tif (isSessionStorageNameSupported()) {\n\t\t\tsession = _window[sessionStorageName];\n\t\t\t//会话模式\n\t\t\tstore.session = {\n\t\t\t\t/**\n\t\t\t\t * [set 存储一个会话]\n\t\t\t\t * @param {[String]} key [description]\n\t\t\t\t * @param {[*]} val [*]\n\t\t\t\t */\n\t\t\t\tset: function(key, val) {\n\t\t\t\t\tif (val === undefined) {\n\t\t\t\t\t\treturn store.remove(key);\n\t\t\t\t\t}\n\t\t\t\t\tvar stayStore;\n\t\t\t\t\tif (Object.prototype.toString.call(val) === '[object Object]') {\n\t\t\t\t\t\tstayStore = store.serialize(val);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstayStore = val;\n\t\t\t\t\t};\n\t\t\t\t\tsession.setItem(key, stayStore);\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * [get 获取一个会话]\n\t\t\t\t * @param  {[String]} key [description]\n\t\t\t\t * @return {[Boolean]}     [description]\n\t\t\t\t */\n\t\t\t\tget: function(key) {\n\t\t\t\t\tvar val = store.deserialize(session.getItem(key));\n\t\t\t\t\treturn (val === undefined ? defaultVal : val);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\ttry {\n\t\tvar testKey = '__storeJs__';\n\t\tstore.set(testKey, testKey);\n\t\tif (store.get(testKey) != testKey) {\n\t\t\tstore.disabled = true;\n\t\t}\n\t\tstore.remove(testKey);\n\t} catch (e) {\n\t\tstore.disabled = true;\n\t}\n\tstore.enabled = !store.disabled;\n\tif (store.enabled) {\n\t\tvar modelCache = store.expiration.getAll();\n\t\tif (modelCache) {\n\t\t\tfor (var cacheKey in modelCache) {\n\t\t\t\tvar cache = modelCache[cacheKey];\n\t\t\t\tif (new Date().getTime() - cache.time > cache.exp) {\n\t\t\t\t\tcache = null;\n\t\t\t\t\tdelete modelCache[cacheKey]\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tstore.expiration.resetSave(modelCache);\n\t};\n\treturn store;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/store/locationStore.js\n ** module id = 2\n ** module chunks = 0\n **/","/**\n * @time 2012年10月26日\n * @author icepy\n * @info 完成cookie模块\n */\n\n'use strict';\n\n(function(factory) {\n\tvar root = (typeof self == 'object' && self.self == self && self) ||\n\t\t(typeof global == 'object' && global.global == global && global);\n\tif(typeof exports === 'object' && typeof module === 'object'){\n\t\tmodule.exports = factory();\n\t}else if(typeof exports === 'object'){\n\t\texports['cookie'] = factory()\n\t}else{\n\t\tif (!root.ICEPlugs) {\n\t\t\troot.ICEPlugs = {};\n\t\t};\n\t\troot.ICEPlugs.cookie = factory();\n\t};\n})(function() {\n\treturn {\n\t\t/**\n\t\t * [get 获取cookie]\n\t\t * @param  {[String]} name [description]\n\t\t */\n\t\tget: function(name) {\n\t\t\tvar cookieName = encodeURIComponent(name) + '=';\n\t\t\tvar cookieStart = document.cookie.indexOf(cookieName);\n\t\t\tvar cookieValue = null;\n\t\t\tvar cookieEnd;\n\t\t\tif (cookieStart > -1) {\n\t\t\t\tcookieEnd = document.cookie.indexOf(';', cookieStart);\n\t\t\t\tif (cookieEnd == -1) {\n\t\t\t\t\tcookieEnd = document.cookie.length;\n\t\t\t\t}\n\t\t\t\tcookieValue = decodeURIComponent(document.cookie.substring(cookieStart +\n\t\t\t\t\tcookieName.length, cookieEnd));\n\t\t\t}\n\t\t\treturn cookieValue;\n\t\t},\n\t\t/**\n\t\t * [set 设置cookie]\n\t\t * @param {[type]} name    [description]\n\t\t * @param {[type]} value   [description]\n\t\t * @param {[type]} expires [description]\n\t\t * @param {[type]} path    [description]\n\t\t * @param {[type]} domain  [description]\n\t\t * @param {[type]} secure  [description]\n\t\t */\n\t\tset: function(name, value, expires, path, domain, secure) {\n\t\t\tvar cookieText = encodeURIComponent(name) + '=' +\n\t\t\t\tencodeURIComponent(value);\n\t\t\tif (expires instanceof Date) {\n\t\t\t\tcookieText += '; expires=' + expires.toUTCString();\n\t\t\t}\n\t\t\tif (path) {\n\t\t\t\tcookieText += '; path=' + path;\n\t\t\t}\n\t\t\tif (domain) {\n\t\t\t\tcookieText += '; domain=' + domain;\n\t\t\t}\n\t\t\tif (secure) {\n\t\t\t\tcookieText += '; secure';\n\t\t\t}\n\t\t\tdocument.cookie = cookieText;\n\t\t},\n\t\t/**\n\t\t * [unset 删除cookie]\n\t\t * @param  {[type]} name   [description]\n\t\t * @param  {[type]} path   [description]\n\t\t * @param  {[type]} domain [description]\n\t\t * @param  {[type]} secure [description]\n\t\t */\n\t\tunset: function(name, path, domain, secure) {\n\t\t\tthis.set(name, '', new Date(0), path, domain, secure);\n\t\t},\n\t\tversion: '0.0.1'\n\t};\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/store/cookie.js\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}